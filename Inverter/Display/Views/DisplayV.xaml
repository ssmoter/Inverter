<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Inverter.Display.Views.DisplayV"
             xmlns:local="clr-namespace:Inverter.Display.Views"
             xmlns:drawable="clr-namespace:Inverter.Data.Draw"
             xmlns:vm="clr-namespace:Inverter.Display.ViewsModel"
             Title="DisplayV" BackgroundColor="Black">

    <!--<ContentPage.BindingContext>
        <vm:DisplayVM/>
    </ContentPage.BindingContext>-->

    <ScrollView>
        <Grid 
                ColumnDefinitions="*,*" ColumnSpacing="10"
                RowDefinitions="auto,300,auto,*" RowSpacing="10">
            <!--Konfiguracja-->
            <Label FontSize="Title" HorizontalOptions="Center" Text="Konfiguracja" Grid.Row="0" Grid.Column="0"/>
            <Label FontSize="Title" HorizontalOptions="Center" Text="Schemat" Grid.Row="0" Grid.Column="1"/>
            <Label FontSize="Title" HorizontalOptions="Center" Text="Wykresy" Grid.Row="2" Grid.ColumnSpan="2"/>

            <ContentView Grid.Row="1" Grid.Column="0" >
                <Grid     ColumnDefinitions="*,*,*,*,*,*,*" ColumnSpacing="10"
                          RowDefinitions="auto,*,auto,auto,auto,auto">
                    <!--Edycja-->
                    <Label Grid.Row="2" Grid.ColumnSpan="5" Text="Edycja" HorizontalOptions="Center"/>

                    <Editor Grid.Row="3" Grid.Column="0" Text="{Binding DataGraphUpdateItem.DataName}" Placeholder="ID" HorizontalOptions="Center" IsEnabled="False" TextColor="LightBlue"/>
                    <Editor Grid.Row="3" Grid.Column="1" Text="{Binding DataGraphUpdateItem.UserDataName}"  Placeholder="Nazwa" HorizontalOptions="Center"/>
                    <Editor Grid.Row="3" Grid.Column="2" Text="{Binding DataGraphUpdateItem.UserColor}"  Placeholder="Color" HorizontalOptions="Center"/>
                    <Editor Grid.Row="3" Grid.Column="3" Text="{Binding DataGraphUpdateItem.Multiplier}" Placeholder="Skala" HorizontalOptions="Center" Keyboard="Numeric" />
                    <Editor Grid.Row="3" Grid.Column="4" Text="{Binding DataGraphUpdateItem.LocationRow}"  Placeholder="Wiersz" HorizontalOptions="Center" Keyboard="Numeric" />
                    <Editor Grid.Row="3" Grid.Column="5" Text="{Binding DataGraphUpdateItem.locationRowSpan}"  Placeholder="Ilość wierszy" HorizontalOptions="Center" Keyboard="Numeric" />
                    <CheckBox Grid.Row="3" Grid.Column="6" IsChecked="{Binding DataGraphUpdateItem.Visible}" HorizontalOptions="Center"/>
                    <Button Grid.Row="4" Grid.ColumnSpan="7" Clicked="UpdateRow_Clicked" Command="{Binding UpdateRowCommand}" HorizontalOptions="Center" Text="Aktualizuj" Margin="0,5,0,0"/>

                    <Label Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" TextColor="White" Text="Maksymalna: "/>
                    <Label Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2" TextColor="White" Text="{Binding MaxValue}"/>
                    <Label Grid.Row="4" Grid.Column="4" Grid.ColumnSpan="2" TextColor="White" Text="Minimalna: "/>
                    <Label Grid.Row="4" Grid.Column="5" Grid.ColumnSpan="2" TextColor="White" Text="{Binding MinValue}"/>

                    <ListView 
                            Grid.Row="1" Grid.ColumnSpan="7"
                            ItemsSource="{Binding DataGraphs}" SelectedItem="{Binding DataGraphSelectedItem }">
                        <ListView.Header>
                            <StackLayout>
                                <Grid
                                    ColumnDefinitions="*,*,*,*,*,*,*" ColumnSpacing="10"
                                        RowDefinitions="*" RowSpacing="10">
                                    <Label Grid.Row="0" Grid.Column="0" Text="ID" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="1" Text="Nazwa" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="2" Text="Color" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="3" Text="Skala" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="4" Text="Wiersz" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="5" Text="Ilość wierszy" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="6" Text="Widoczny" HorizontalOptions="Center"/>
                                </Grid>
                            </StackLayout>
                        </ListView.Header>
                        <ListView.Footer>
                            <StackLayout>
                                <Grid
                                    ColumnDefinitions="*,*,*,*,*,*,*" ColumnSpacing="10"
                                     RowDefinitions="*" RowSpacing="10">
                                    <Label Grid.Row="0" Grid.Column="0" Text="ID" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="1" Text="Nazwa" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="2" Text="Color" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="3" Text="Skala" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="4" Text="Wiersz" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="5" Text="Ilość wierszy" HorizontalOptions="Center"/>
                                    <Label Grid.Row="0" Grid.Column="6" Text="Widoczny" HorizontalOptions="Center"/>
                                </Grid>
                            </StackLayout>
                        </ListView.Footer>
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Grid
                                       ColumnDefinitions="*,*,*,*,*,*,*" ColumnSpacing="10"
                                        RowDefinitions="*" RowSpacing="10">
                                        <Label  Grid.Row="0" Grid.Column="0" HorizontalOptions="Center" Text="{Binding DataName}"/>
                                        <Label Grid.Row="0" Grid.Column="1" HorizontalOptions="Center" Text="{Binding UserDataName}"/>
                                        <Label Grid.Row="0" Grid.Column="2" HorizontalOptions="Center" Text="{Binding UserColor}"/>
                                        <Label Grid.Row="0" Grid.Column="3" HorizontalOptions="End" Text="{Binding Multiplier}"/>
                                        <Label Grid.Row="0" Grid.Column="4" HorizontalOptions="End" Text="{Binding LocationRow}"/>
                                        <Label Grid.Row="0" Grid.Column="5" HorizontalOptions="End" Text="{Binding locationRowSpan}"/>
                                        <CheckBox Grid.Row="0" Grid.Column="6" HorizontalOptions="End" IsChecked="{Binding Visible}" IsEnabled="False"/>
                                    </Grid>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Grid>
            </ContentView>
            <ScrollView Grid.Row="1" Grid.Column="1">
                <Grid>
                    <BoxView Color="Blue"/>
                    <Label Text="Schemat" HorizontalOptions="Center" VerticalOptions="Center"/>
                </Grid>
            </ScrollView>
            <ScrollView Grid.Row="3" Grid.ColumnSpan="2">
                <Grid 
                    ColumnDefinitions="*"
                    RowDefinitions="1,*,1"
                    >
                    <GraphicsView
                        Grid.Row="1" Grid.Column="0" />
                    <ScrollView
                        Grid.Row="1" Grid.Column="0"
                        ZIndex="9" BackgroundColor="White">
                        <Grid
                        x:Name="gGraph">

                        </Grid>
                    </ScrollView>
                </Grid>
            </ScrollView>
        </Grid>
    </ScrollView>

</ContentPage>


